{"remainingRequest":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue","mtime":1621927899225},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgTm90eWYgfSBmcm9tICJub3R5ZiI7CmltcG9ydCAibm90eWYvbm90eWYubWluLmNzcyI7CmltcG9ydCBqd3REZWNvZGUgZnJvbSAnand0LWRlY29kZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGVsZXRlQWNjb3VudCIsCiAgcHJvcHM6IFsicmV2ZWxlIiwgImRpc3BsYXlNb2RhbGUiXSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5ub3R5ZiA9IG5ldyBOb3R5Zih7CiAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICBwb3NpdGlvbjogewogICAgICAgIHg6ICJjZW50ZXIiLAogICAgICAgIHk6ICJib3R0b20iCiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gUGVybWV0IGRlIHN1cHByaW1lciBsZSBjb21wdGUKICAgIGRlbGV0ZUFjY291bnQ6IGZ1bmN0aW9uIGRlbGV0ZUFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdG9rZW5SZWN1cCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICB2YXIgZGVjb2RlVG9rZW4gPSBqd3REZWNvZGUodG9rZW5SZWN1cCk7CiAgICAgIHZhciB1c2VySWQgPSBkZWNvZGVUb2tlbi51c2VySWQ7CiAgICAgIGF4aW9zWyJkZWxldGUiXSgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyLyIgKyB1c2VySWQsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLm5vdHlmLnN1Y2Nlc3MoIlZvdHJlIGNvbXB0ZSBhIGJpZW4gw6l0w6kgc3VwcHJpbcOpIik7CgogICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdmFyIG1zZ2Vycm9yID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKCiAgICAgICAgX3RoaXMubm90eWYuZXJyb3IobXNnZXJyb3IuZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue"],"names":[],"mappings":"AAwBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,OAAtB;AACA,OAAO,qBAAP;AACA,OAAO,SAAP,MAAsB,YAAtB;AAEA,eAAe;AACd,EAAA,IAAI,EAAE,eADQ;AAEd,EAAA,KAAK,EAAE,CAAC,QAAD,EAAW,eAAX,CAFO;AAGd,EAAA,OAHc,qBAGJ;AACT,SAAK,KAAL,GAAa,IAAI,KAAJ,CAAU;AACtB,MAAA,QAAQ,EAAE,IADY;AAEtB,MAAA,QAAQ,EAAE;AACT,QAAA,CAAC,EAAE,QADM;AAET,QAAA,CAAC,EAAE;AAFM;AAFY,KAAV,CAAb;AAOA,GAXa;AAYd,EAAA,OAAO,EAAE;AACR;AACA,IAAA,aAFQ,2BAEQ;AAAA;;AACf,UAAM,UAAS,GAAI,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAnB;AACA,UAAM,WAAU,GAAI,SAAS,CAAC,UAAD,CAA7B;AACA,UAAM,MAAK,GAAI,WAAW,CAAC,MAA3B;AAEA,MAAA,KAAI,UAAJ,CACS,oCAAoC,MAD7C,EACqD;AACnD,QAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAER,UAAA,aAAa,EAAE,YAAY,YAAY,CAAC,OAAb,CAAqB,OAArB;AAFnB;AAD0C,OADrD,EAOE,IAPF,CAOO,YAAM;AACX,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,kCAAnB;;AACA,QAAA,YAAY,CAAC,KAAb;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACA,OAXF,WAYQ,UAAC,KAAD,EAAW;AACjB,YAAM,QAAO,GAAI,KAAK,CAAC,QAAN,CAAe,IAAhC;;AACA,QAAA,KAAI,CAAC,KAAL,CAAW,KAAX,CAAiB,QAAQ,CAAC,KAA1B;AACA,OAfF;AAgBA;AAvBO;AAZK,CAAf","sourcesContent":["<template>\n\t<div v-if=\"revele\" class=\"modaleBloc\">\n\t\t<div @click=\"displayModale\" class=\"modaleBloc__overlay\"></div>\n\n\t\t<div class=\"modaleBloc__card\">\n\t\t\t<div class=\"modaleBloc__card__title\">\n\t\t\t\t<h2>Etes-vous sûr de vouloir supprimer votre compte ?</h2>\n\t\t\t\t<p>(Cette action est irréversible)</p>\n\t\t\t\t<div class=\"modaleBloc__card__title__close\">\n\t\t\t\t\t<i\n\t\t\t\t\t\t@click=\"displayModale\"\n\t\t\t\t\t\tclass=\"far fa-times-circle fa-2x modaleBloc__card__title__close\"\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<button @click=\"deleteAccount\" class=\"modaleBloc__card__button\">\n\t\t\t\tOui, je supprime mon compte\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Notyf } from \"notyf\";\nimport \"notyf/notyf.min.css\";\nimport jwtDecode from 'jwt-decode';\n\nexport default {\n\tname: \"DeleteAccount\",\n\tprops: [\"revele\", \"displayModale\"],\n\tcreated() {\n\t\tthis.notyf = new Notyf({\n\t\t\tduration: 2000,\n\t\t\tposition: {\n\t\t\t\tx: \"center\",\n\t\t\t\ty: \"bottom\",\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\t// Permet de supprimer le compte\n\t\tdeleteAccount() {\n\t\t\tconst tokenRecup = localStorage.getItem(\"token\");\n\t\t\tconst decodeToken = jwtDecode(tokenRecup);\n\t\t\tconst userId = decodeToken.userId\n\t\t\t\n\t\t\taxios\n\t\t\t\t.delete(\"http://localhost:3000/api/user/\" + userId, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: \"Bearer \" + localStorage.getItem(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.notyf.success(\"Votre compte a bien été supprimé\");\n\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst msgerror = error.response.data;\n\t\t\t\t\tthis.notyf.error(msgerror.error);\n\t\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modaleBloc {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t&__overlay {\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\t&__card {\n\t\tz-index: 2;\n\t\tposition: fixed;\n\t\tbackground: #f1f1f1;\n\t\tcolor: #3f3d56;\n\t\t&__title {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\ttext-align: center;\n\t\t\tpadding: 3rem 6rem 1.5rem 6rem;\n\t\t\t& h2 {\n\t\t\t\tmargin-top: 0px;\n\t\t\t\t@media (max-width: 500px) {\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&__close {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 1rem;\n\t\t\t\tright: 1rem;\n\t\t\t\tcolor: #3f3d56;\n\t\t\t\t&:hover,\n\t\t\t\t&:focus {\n\t\t\t\t\tcolor: #ff6363;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&__button {\n\t\t\tborder: 3px solid #3f3d56;\n\t\t\tborder-radius: 25px;\n\t\t\tcolor: #3f3d56;\n\t\t\tfont-size: 15px;\n\t\t\tfont-weight: bold;\n\t\t\tpadding: 0.9rem;\n\t\t\tmargin: 1rem 0 2rem 0;\n\t\t\toutline-style: none;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\tborder: 3px solid #ff6363;\n\t\t\t\tcolor: #ff6363;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"],"sourceRoot":""}]}