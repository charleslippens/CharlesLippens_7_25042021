{"remainingRequest":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue?vue&type=template&id=4c7badfc&scoped=true","dependencies":[{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue","mtime":1621927899225},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNGM3YmFkZmMiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTRjN2JhZGZjIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAsCiAgImNsYXNzIjogIm1vZGFsZUJsb2MiCn07CnZhciBfaG9pc3RlZF8yID0gewogICJjbGFzcyI6ICJtb2RhbGVCbG9jX19jYXJkIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICAiY2xhc3MiOiAibW9kYWxlQmxvY19fY2FyZF9fdGl0bGUiCn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgyIiwgbnVsbCwgIkV0ZXMtdm91cyBzw7tyIGRlIHZvdWxvaXIgc3VwcHJpbWVyIHZvdHJlIGNvbXB0ZSA/IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgIihDZXR0ZSBhY3Rpb24gZXN0IGlycsOpdmVyc2libGUpIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgImNsYXNzIjogIm1vZGFsZUJsb2NfX2NhcmRfX3RpdGxlX19jbG9zZSIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gJHByb3BzLnJldmVsZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkcHJvcHMuZGlzcGxheU1vZGFsZSAmJiAkcHJvcHMuZGlzcGxheU1vZGFsZS5hcHBseSgkcHJvcHMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgICJjbGFzcyI6ICJtb2RhbGVCbG9jX19vdmVybGF5IgogIH0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfaG9pc3RlZF80LCBfaG9pc3RlZF81LCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoImkiLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRwcm9wcy5kaXNwbGF5TW9kYWxlICYmICRwcm9wcy5kaXNwbGF5TW9kYWxlLmFwcGx5KCRwcm9wcywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgImNsYXNzIjogImZhciBmYS10aW1lcy1jaXJjbGUgZmEtMnggbW9kYWxlQmxvY19fY2FyZF9fdGl0bGVfX2Nsb3NlIgogIH0pXSldKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZUFjY291bnQgJiYgJG9wdGlvbnMuZGVsZXRlQWNjb3VudC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgImNsYXNzIjogIm1vZGFsZUJsb2NfX2NhcmRfX2J1dHRvbiIKICB9LCAiIE91aSwgamUgc3VwcHJpbWUgbW9uIGNvbXB0ZSAiKV0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpOwp9KTs="},{"version":3,"sources":["E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue"],"names":[],"mappings":";;;;;;;;AACoB,WAAM;;;AAGnB,WAAM;;;AACL,WAAM;;;8BACV,YAAA,CAA0D,IAA1D,EAA0D,IAA1D,EAAI,mDAAJ,EAAqD,CAAA;AAAA;AAArD,C;;8BACA,YAAA,CAAsC,GAAtC,EAAsC,IAAtC,EAAG,iCAAH,EAAkC,CAAA;AAAA;AAAlC,C;;;AACK,WAAM;;;;;;SAPH,MAAA,CAAA,M,kBAAX,YAAA,CAmBM,KAnBN,EAAA,UAAA,EAmBM,CAlBL,YAAA,CAA8D,KAA9D,EAA8D;AAAxD,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,aAAA,IAAA,MAAA,CAAA,aAAA,OAAA,MAAA,YAAF;AAAA,KAAA,CAAmD;AAAlC,aAAM;AAA4B,GAA9D,CAkBK,EAhBL,YAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdL,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARL,UAQK,EAPL,UAOK,EANL,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJL,YAAA,CAGK,GAHL,EAGK;AAFH,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,aAAA,IAAA,MAAA,CAAA,aAAA,OAAA,MAAA,YAAF;AAAA,KAAA,CAEF;AADJ,aAAM;AACF,GAHL,CAIK,CALN,CAMK,CATN,CAcK,EAHL,YAAA,CAES,QAFT,EAES;AAFA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,aAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAEL;AAFsB,aAAM;AAE5B,GAFT,EAAgE,+BAAhE,CAGK,CAfN,CAgBK,CAnBN,C","sourcesContent":["<template>\n\t<div v-if=\"revele\" class=\"modaleBloc\">\n\t\t<div @click=\"displayModale\" class=\"modaleBloc__overlay\"></div>\n\n\t\t<div class=\"modaleBloc__card\">\n\t\t\t<div class=\"modaleBloc__card__title\">\n\t\t\t\t<h2>Etes-vous sûr de vouloir supprimer votre compte ?</h2>\n\t\t\t\t<p>(Cette action est irréversible)</p>\n\t\t\t\t<div class=\"modaleBloc__card__title__close\">\n\t\t\t\t\t<i\n\t\t\t\t\t\t@click=\"displayModale\"\n\t\t\t\t\t\tclass=\"far fa-times-circle fa-2x modaleBloc__card__title__close\"\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<button @click=\"deleteAccount\" class=\"modaleBloc__card__button\">\n\t\t\t\tOui, je supprime mon compte\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Notyf } from \"notyf\";\nimport \"notyf/notyf.min.css\";\nimport jwtDecode from 'jwt-decode';\n\nexport default {\n\tname: \"DeleteAccount\",\n\tprops: [\"revele\", \"displayModale\"],\n\tcreated() {\n\t\tthis.notyf = new Notyf({\n\t\t\tduration: 2000,\n\t\t\tposition: {\n\t\t\t\tx: \"center\",\n\t\t\t\ty: \"bottom\",\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\t// Permet de supprimer le compte\n\t\tdeleteAccount() {\n\t\t\tconst tokenRecup = localStorage.getItem(\"token\");\n\t\t\tconst decodeToken = jwtDecode(tokenRecup);\n\t\t\tconst userId = decodeToken.userId\n\t\t\t\n\t\t\taxios\n\t\t\t\t.delete(\"http://localhost:3000/api/user/\" + userId, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: \"Bearer \" + localStorage.getItem(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.notyf.success(\"Votre compte a bien été supprimé\");\n\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst msgerror = error.response.data;\n\t\t\t\t\tthis.notyf.error(msgerror.error);\n\t\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modaleBloc {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t&__overlay {\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\t&__card {\n\t\tz-index: 2;\n\t\tposition: fixed;\n\t\tbackground: #f1f1f1;\n\t\tcolor: #3f3d56;\n\t\t&__title {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\ttext-align: center;\n\t\t\tpadding: 3rem 6rem 1.5rem 6rem;\n\t\t\t& h2 {\n\t\t\t\tmargin-top: 0px;\n\t\t\t\t@media (max-width: 500px) {\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&__close {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 1rem;\n\t\t\t\tright: 1rem;\n\t\t\t\tcolor: #3f3d56;\n\t\t\t\t&:hover,\n\t\t\t\t&:focus {\n\t\t\t\t\tcolor: #ff6363;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&__button {\n\t\t\tborder: 3px solid #3f3d56;\n\t\t\tborder-radius: 25px;\n\t\t\tcolor: #3f3d56;\n\t\t\tfont-size: 15px;\n\t\t\tfont-weight: bold;\n\t\t\tpadding: 0.9rem;\n\t\t\tmargin: 1rem 0 2rem 0;\n\t\t\toutline-style: none;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\tborder: 3px solid #ff6363;\n\t\t\t\tcolor: #ff6363;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"],"sourceRoot":""}]}