{"remainingRequest":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue?vue&type=template&id=68be103e&scoped=true","dependencies":[{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue","mtime":1621684629666},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgk8ZGl2PgoJCTxOYXYgLz4KCQk8ZGl2IGNsYXNzPSJiZyI+CgkJCTxkaXYgY2xhc3M9ImZpZWxkIj4KCQkJCTxoMT5Hcm91cG9tYW5pYSBVc2VyczwvaDE+CgkJCQk8aHIgLz4KCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPgoJCQkJCTxkaXYgY2xhc3M9InRlc3QiIHYtZm9yPSJ1c2VyIGluIHVzZXJzIiA6a2V5PSJ1c2VyLmlkIj4KCQkJCQkJPHAgY2xhc3M9InRpdGxlIGZvbnQtd2VpZ2h0LWJvbGQiPklEIDoge3sgdXNlci5pZCB9fTwvcD4KCQkJCQkJPHAgY2xhc3M9InRpdGxlIGZvbnQtd2VpZ2h0LWJvbGQiPlBzZXVkbyA6IHt7IHVzZXIudXNlcm5hbWUgfX08L3A+CgkJCQkJCTxwIGNsYXNzPSJ0aXRsZSBmb250LXdlaWdodC1ib2xkIj4KCQkJCQkJCUNyw6nDqSBsZSA6IHt7IGRhdGVGb3JtYXQodXNlci5jcmVhdGVkQXQpIH19CgkJCQkJCTwvcD4KCQkJCQkJPHAgY2xhc3M9InRpdGxlIGZvbnQtd2VpZ2h0LWJvbGQiPkVtYWlsIDoge3sgdXNlci5lbWFpbCB9fTwvcD4KCQkJCQkJPGJ1dHRvbiBjbGFzcz0idXNlcnMtbGlzdF9kZWxldGUtbGluayIgQGNsaWNrPSJkZWxldGVVc2VyKHVzZXIuaWQpIj4KCQkJCQkJCTxpIGNsYXNzPSJmYXIgZmEtdHJhc2gtYWx0Ij48L2k+U3VwcHJpbWVyCgkJCQkJCTwvYnV0dG9uPgoJCQkJCQk8YnIgLz4KCQkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvZGl2Pgo="},{"version":3,"sources":["C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue"],"names":[],"mappings":";CACC,CAAC,CAAC,CAAC,CAAC;EACH,CAAC,CAAC,CAAC,EAAE,CAAC;EACN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACd,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,EAAE,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACvD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAChC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC1C,CAAC,CAAC,CAAC;MACH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAClE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,EAAE,CAAC;KACN,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC;GACN,CAAC,CAAC,CAAC,CAAC,CAAC;EACN,CAAC,CAAC,CAAC,CAAC,CAAC;CACN,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Pierre/Desktop/CharlesLippens_7_25042021-main (9)/CharlesLippens_7_25042021-main/frontend/vue-groupomania/src/views/Users.vue","sourceRoot":"","sourcesContent":["<template>\n\t<div>\n\t\t<Nav />\n\t\t<div class=\"bg\">\n\t\t\t<div class=\"field\">\n\t\t\t\t<h1>Groupomania Users</h1>\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<div class=\"test\" v-for=\"user in users\" :key=\"user.id\">\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">ID : {{ user.id }}</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">Pseudo : {{ user.username }}</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">\n\t\t\t\t\t\t\tCréé le : {{ dateFormat(user.createdAt) }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">Email : {{ user.email }}</p>\n\t\t\t\t\t\t<button class=\"users-list_delete-link\" @click=\"deleteUser(user.id)\">\n\t\t\t\t\t\t\t<i class=\"far fa-trash-alt\"></i>Supprimer\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Notyf } from \"notyf\";\nimport moment from \"moment\";\nimport \"notyf/notyf.min.css\";\n\nimport Nav from \"@/components/Nav.vue\";\n\nexport default {\n\tname: \"Users\",\n\tcomponents: {\n\t\tNav,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser: \"\",\n\t\t\tusers: [],\n\t\t\terror: \"\",\n\t\t\trevele: false,\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.displayUser();\n\n\t\tthis.notyf = new Notyf({\n\t\t\tduration: 2000,\n\t\t\tposition: {\n\t\t\t\tx: \"center\",\n\t\t\t\ty: \"top\",\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\tdeleteUser(key) {\n\t\t\tconst userId = key;\n\n\t\t\taxios\n\t\t\t\t.delete(\"http://localhost:3000/api/user/\" + userId, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: \"Bearer \" + localStorage.getItem(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.notyf.success(\"Le compte a bien été supprimé\");\n\t\t\t\t\tthis.$router.push(\"/post\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst msgerror = error.response.data;\n\t\t\t\t\tthis.notyf.error(msgerror.error);\n\t\t\t\t});\n\t\t},\n\n\t\t// afficher la date de publication au bon format\n\t\tdateFormat(date) {\n\t\t\tif (date) {\n\t\t\t\treturn moment(String(date)).format(\"DD/MM/YYYY\");\n\t\t\t}\n\t\t},\n\n\t\tdisplayUser() {\n\t\t\taxios\n\t\t\t\t.get(\"http://localhost:3000/api/admin/users\", {\n\t\t\t\t\theaders: { Authorization: \"Bearer \" + localStorage.token },\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.users = response.data.users;\n\t\t\t\t\tconsole.log(\"this.user:\", this.users);\n\t\t\t\t\tconsole.log(\"this.user:\", this.user);\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t},\n\t},\n};\n</script>\n<style scoped lang=\"scss\">\n.bg {\n\tbackground: rgb(228, 225, 225);\n\tbackground-size: cover, contain;\n\theight: 100vh;\n}\n\nh1,\nh2 {\n\tmargin-top: 2rem;\n}\n.test {\n\tborder: solid;\n\tborder-radius: 5px;\n\tbackground-color: white;\n\tpadding: 10px;\n\tmargin: 0px 10px 10px 0px;\n}\n\n.content {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-width: 40%;\n\tmax-width: 80%;\n\tmargin: 3rem auto;\n\tborder-radius: 25px;\n\n\t@media (max-width: 500px) {\n\t\tmin-width: 80%;\n\t}\n}\n</style>\n"]}]}