{"remainingRequest":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue","mtime":1621927188886},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE5vdHlmIH0gZnJvbSAibm90eWYiOwppbXBvcnQgIm5vdHlmL25vdHlmLm1pbi5jc3MiOwppbXBvcnQgand0RGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnOwoKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogIkRlbGV0ZUFjY291bnQiLAoJcHJvcHM6IFsicmV2ZWxlIiwgImRpc3BsYXlNb2RhbGUiXSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5ub3R5ZiA9IG5ldyBOb3R5Zih7CgkJCWR1cmF0aW9uOiAyMDAwLAoJCQlwb3NpdGlvbjogewoJCQkJeDogImNlbnRlciIsCgkJCQl5OiAiYm90dG9tIiwKCQkJfSwKCQl9KTsKCX0sCgltZXRob2RzOiB7CgkJLy8gUGVybWV0IGRlIHN1cHByaW1lciBsZSBjb21wdGUKCQlkZWxldGVBY2NvdW50KCkgewoJCQljb25zdCB0b2tlbnJlY3VwID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CgkJCWNvbnN0IGRlY29kZXRva2VuID0gand0RGVjb2RlKHRva2VucmVjdXApOwoJCQljb25zdCB1c2VySWQgPSBkZWNvZGV0b2tlbi51c2VySWQKCQkJCgkJCWF4aW9zCgkJCQkuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXIvIiArIHVzZXJJZCwgewoJCQkJCWhlYWRlcnM6IHsKCQkJCQkJIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKCQkJCQkJQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCgkJCQkJfSwKCQkJCX0pCgkJCQkudGhlbigoKSA9PiB7CgkJCQkJdGhpcy5ub3R5Zi5zdWNjZXNzKCJWb3RyZSBjb21wdGUgYSBiaWVuIMOpdMOpIHN1cHByaW3DqSIpOwoJCQkJCWxvY2FsU3RvcmFnZS5jbGVhcigpOwoJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCIvIik7CgkJCQl9KQoJCQkJLmNhdGNoKChlcnJvcikgPT4gewoJCQkJCWNvbnN0IG1zZ2Vycm9yID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKCQkJCQl0aGlzLm5vdHlmLmVycm9yKG1zZ2Vycm9yLmVycm9yKTsKCQkJCX0pOwoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["C:\\Users\\Pierre\\Desktop\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\components\\DeleteAccount.vue"],"names":[],"mappings":"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","file":"C:/Users/Pierre/Desktop/CharlesLippens_7_25042021-main (9)/CharlesLippens_7_25042021-main/frontend/vue-groupomania/src/components/DeleteAccount.vue","sourceRoot":"","sourcesContent":["<template>\n\t<div v-if=\"revele\" class=\"modaleBloc\">\n\t\t<div @click=\"displayModale\" class=\"modaleBloc__overlay\"></div>\n\n\t\t<div class=\"modaleBloc__card\">\n\t\t\t<div class=\"modaleBloc__card__title\">\n\t\t\t\t<h2>Etes-vous sûr de vouloir supprimer votre compte ?</h2>\n\t\t\t\t<p>(Cette action est irréversible)</p>\n\t\t\t\t<div class=\"modaleBloc__card__title__close\">\n\t\t\t\t\t<i\n\t\t\t\t\t\t@click=\"displayModale\"\n\t\t\t\t\t\tclass=\"far fa-times-circle fa-2x modaleBloc__card__title__close\"\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<button @click=\"deleteAccount\" class=\"modaleBloc__card__button\">\n\t\t\t\tOui, je supprime mon compte\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Notyf } from \"notyf\";\nimport \"notyf/notyf.min.css\";\nimport jwtDecode from 'jwt-decode';\n\nexport default {\n\tname: \"DeleteAccount\",\n\tprops: [\"revele\", \"displayModale\"],\n\tcreated() {\n\t\tthis.notyf = new Notyf({\n\t\t\tduration: 2000,\n\t\t\tposition: {\n\t\t\t\tx: \"center\",\n\t\t\t\ty: \"bottom\",\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\t// Permet de supprimer le compte\n\t\tdeleteAccount() {\n\t\t\tconst tokenrecup = localStorage.getItem(\"token\");\n\t\t\tconst decodetoken = jwtDecode(tokenrecup);\n\t\t\tconst userId = decodetoken.userId\n\t\t\t\n\t\t\taxios\n\t\t\t\t.delete(\"http://localhost:3000/api/user/\" + userId, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: \"Bearer \" + localStorage.getItem(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.notyf.success(\"Votre compte a bien été supprimé\");\n\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst msgerror = error.response.data;\n\t\t\t\t\tthis.notyf.error(msgerror.error);\n\t\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modaleBloc {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t&__overlay {\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\t&__card {\n\t\tz-index: 2;\n\t\tposition: fixed;\n\t\tbackground: #f1f1f1;\n\t\tcolor: #3f3d56;\n\t\t&__title {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\ttext-align: center;\n\t\t\tpadding: 3rem 6rem 1.5rem 6rem;\n\t\t\t& h2 {\n\t\t\t\tmargin-top: 0px;\n\t\t\t\t@media (max-width: 500px) {\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&__close {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 1rem;\n\t\t\t\tright: 1rem;\n\t\t\t\tcolor: #3f3d56;\n\t\t\t\t&:hover,\n\t\t\t\t&:focus {\n\t\t\t\t\tcolor: #ff6363;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&__button {\n\t\t\tborder: 3px solid #3f3d56;\n\t\t\tborder-radius: 25px;\n\t\t\tcolor: #3f3d56;\n\t\t\tfont-size: 15px;\n\t\t\tfont-weight: bold;\n\t\t\tpadding: 0.9rem;\n\t\t\tmargin: 1rem 0 2rem 0;\n\t\t\toutline-style: none;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\tborder: 3px solid #ff6363;\n\t\t\t\tcolor: #ff6363;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"]}]}