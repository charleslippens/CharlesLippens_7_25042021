{"remainingRequest":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue?vue&type=style&index=0&id=68be103e&scoped=true&lang=scss","dependencies":[{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue","mtime":1621897332122},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5iZyB7CgliYWNrZ3JvdW5kOiByZ2IoMjI4LCAyMjUsIDIyNSk7CgliYWNrZ3JvdW5kLXNpemU6IGNvdmVyLCBjb250YWluOwoJaGVpZ2h0OiAxMDB2aDsKfQoKaDEsCmgyIHsKCW1hcmdpbi10b3A6IDJyZW07Cn0KLnRlc3QgewoJYm9yZGVyOiBzb2xpZDsKCWJvcmRlci1yYWRpdXM6IDVweDsKCWJhY2tncm91bmQtY29sb3I6IHdoaXRlOwoJcGFkZGluZzogMTBweDsKCW1hcmdpbjogMHB4IDEwcHggMTBweCAwcHg7Cn0KCi5jb250ZW50IHsKCWRpc3BsYXk6IGZsZXg7CglmbGV4LWRpcmVjdGlvbjogcm93OwoJZmxleC13cmFwOiB3cmFwOwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CglhbGlnbi1pdGVtczogY2VudGVyOwoJbWluLXdpZHRoOiA0MCU7CgltYXgtd2lkdGg6IDgwJTsKCW1hcmdpbjogM3JlbSBhdXRvOwoJYm9yZGVyLXJhZGl1czogMjVweDsKCglAbWVkaWEgKG1heC13aWR0aDogNTAwcHgpIHsKCQltaW4td2lkdGg6IDgwJTsKCX0KfQo="},{"version":3,"sources":["E:\\CharlesLippens_7_25042021-main (9)\\CharlesLippens_7_25042021-main\\frontend\\vue-groupomania\\src\\views\\Users.vue"],"names":[],"mappings":";AAoGA,CAAC,CAAC,EAAE;CACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC;AACF,CAAC,EAAE;CACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,EAAE;CACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;CACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;CACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;CACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;CAEnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACf;AACD","file":"E:/CharlesLippens_7_25042021-main (9)/CharlesLippens_7_25042021-main/frontend/vue-groupomania/src/views/Users.vue","sourceRoot":"","sourcesContent":["<template>\n\t<div>\n\t\t<Nav />\n\t\t<div class=\"bg\">\n\t\t\t<div class=\"field\">\n\t\t\t\t<h1>Groupomania Users</h1>\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<div class=\"test\" v-for=\"user in users\" :key=\"user.id\">\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">ID : {{ user.id }}</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">Pseudo : {{ user.username }}</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">\n\t\t\t\t\t\t\tCréé le : {{ dateFormat(user.createdAt) }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"title font-weight-bold\">Email : {{ user.email }}</p>\n\t\t\t\t\t\t<button class=\"users-list_delete-link\" @click=\"deleteUser(user.id)\">\n\t\t\t\t\t\t\t<i class=\"far fa-trash-alt\"></i>Supprimer\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Notyf } from \"notyf\";\nimport moment from \"moment\";\nimport \"notyf/notyf.min.css\";\n\nimport Nav from \"@/components/Nav.vue\";\n\nexport default {\n\tname: \"Users\",\n\tcomponents: {\n\t\tNav,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser: \"\",\n\t\t\tusers: [],\n\t\t\terror: \"\",\n\t\t\trevele: false,\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.displayUser();\n\n\t\tthis.notyf = new Notyf({\n\t\t\tduration: 2000,\n\t\t\tposition: {\n\t\t\t\tx: \"center\",\n\t\t\t\ty: \"top\",\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\tdeleteUser(key) {\n\t\t\tconst userId = key;\n\n\t\t\taxios\n\t\t\t\t.delete(\"http://localhost:3000/api/user/\" + userId, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: \"Bearer \" + localStorage.getItem(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.notyf.success(\"Le compte a bien été supprimé\");\n\t\t\t\t\tthis.$router.push(\"/post\");\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst msgerror = error.response.data;\n\t\t\t\t\tthis.notyf.error(msgerror.error);\n\t\t\t\t});\n\t\t},\n\n\t\t// afficher la date de publication au bon format\n\t\tdateFormat(date) {\n\t\t\tif (date) {\n\t\t\t\treturn moment(String(date)).format(\"DD/MM/YYYY\");\n\t\t\t}\n\t\t},\n\n\t\tdisplayUser() {\n\t\t\taxios\n\t\t\t\t.get(\"http://localhost:3000/api/admin/users\", {\n\t\t\t\t\theaders: { Authorization: \"Bearer \" + localStorage.token },\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.users = response.data.users;\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t},\n\t},\n};\n</script>\n<style scoped lang=\"scss\">\n.bg {\n\tbackground: rgb(228, 225, 225);\n\tbackground-size: cover, contain;\n\theight: 100vh;\n}\n\nh1,\nh2 {\n\tmargin-top: 2rem;\n}\n.test {\n\tborder: solid;\n\tborder-radius: 5px;\n\tbackground-color: white;\n\tpadding: 10px;\n\tmargin: 0px 10px 10px 0px;\n}\n\n.content {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-width: 40%;\n\tmax-width: 80%;\n\tmargin: 3rem auto;\n\tborder-radius: 25px;\n\n\t@media (max-width: 500px) {\n\t\tmin-width: 80%;\n\t}\n}\n</style>\n"]}]}